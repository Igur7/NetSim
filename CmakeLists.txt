cmake_minimum_required(VERSION 3.10) 

project(Netsim)  

set(CMAKE_CXX_STANDARD 17)  # Standard C++17

# Ścieżka do katalogów z nagłówkami
include_directories(include)

#Lista plików źródłowych
set(SOURCE_FILES
        main.cpp
        src/simulation.cpp
        src/factory.cpp
        src/helpers.cpp
        src/nodes.cpp
        src/package.cpp
        src/reports.cpp
        src/storage_types.cpp
)


# Tworzenie pliku wykonywalnego
add_executable(main main.cpp ${SOURCE_FILES})

# Opcjonalnie, jeśli chcesz zainstalować projekt
# install(TARGETS netsim DESTINATION bin)

set(SOURCE_FILES_TESTS
        test/test_storage.cpp
)

add_executable(Netsim_test ${SOURCE_FILES} ${SOURCE_FILES_TESTS} test/main_gtest.cpp)

target_include_directories(Netsim_test PUBLIC
        googletest-1.16.0/googlemock/include
        googletest-1.16.0/googletest/include
)


add_subdirectory(googletest-1.16.0 googletest-master)

target_link_libraries(Netsim_test gmock)